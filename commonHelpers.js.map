{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport const createMarkupItem = images => {\n  return images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n  <li class=\"gallery-item\">\n  <a class=\"gallery-link\" href=\"${largeImageURL}\">\n    <img\n      class=\"gallery-image\"\n      src=\"${webformatURL}\"\n      alt=\"${tags}\"\n    />\n  </a>\n    <div class=\"small-content\">\n        <small class=\"text-body-likes\">Likes: ${likes}</small>\n        <small class=\"text-body-views\">Views: ${views}</small>\n        <small class=\"text-body-comments\">Comments: ${comments}</small>\n        <small class=\"text-body-downloads\">Dowloads: ${downloads}</small>\n    </div>\n \n    </li>s\n`;\n      }\n    )\n    .join('');\n};\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '43986398-7aebe9ccd4be5011cdf2b223e';\n\nexport const fetchPhotosByQuery = query => {\n  const searchParams = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${BASE_URL}?${searchParams}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.statusText);\n    }\n    return response.json();\n  });\n};","import { createMarkupItem } from './js/render-functions.js';\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst galleryEl = document.querySelector('.js-gallery');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst loaderEl = document.querySelector('.js-loader');\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\n\nfunction onSearchFormSubmit(event) {\n  event.preventDefault();\n\n  const searchQuery = event.target.elements.searchKeyword.value.trim();\n  if (searchQuery === '') {\n    showEmptyQueryError(event);\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  fetchPhotosByQuery(searchQuery)\n    .then(handleFetchSuccess)\n    .catch(handleFetchError)\n    .finally(() => {\n      event.target.reset();\n      hideLoader();\n    });\n}\n\nfunction showEmptyQueryError(event) {\n  galleryEl.innerHTML = '';\n  event.target.reset();\n  iziToast.error({\n    title: 'Error',\n    message: 'Illegal operation',\n    position: 'topRight',\n    timeout: 2000,\n  });\n}\n\nfunction clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nfunction showLoader() {\n  loaderEl.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n  loaderEl.classList.add('is-hidden');\n}\n\nfunction handleFetchSuccess(imagesData) {\n  if (imagesData.totalHits === 0) {\n    iziToast.show({\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n      position: 'topRight',\n      timeout: 2000,\n      color: 'red',\n    });\n  } else {\n    galleryEl.innerHTML = createMarkupItem(imagesData.hits);\n  }\n}\n\nfunction handleFetchError(error) {\n  console.error(error);\n  iziToast.error({\n    title: 'Error',\n    message: 'Something went wrong, please try again later.',\n    position: 'topRight',\n    timeout: 2000,\n  });\n}"],"names":["createMarkupItem","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","BASE_URL","API_KEY","fetchPhotosByQuery","query","searchParams","response","galleryEl","searchFormEl","loaderEl","onSearchFormSubmit","event","searchQuery","showEmptyQueryError","clearGallery","showLoader","handleFetchSuccess","handleFetchError","hideLoader","iziToast","imagesData","error"],"mappings":"6vBAGO,MAAMA,EAAmBC,GACvBA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,kCAEmBL,CAAa;AAAA;AAAA;AAAA,aAGlCD,CAAY;AAAA,aACZE,CAAI;AAAA;AAAA;AAAA;AAAA,gDAI+BC,CAAK;AAAA,gDACLC,CAAK;AAAA,sDACCC,CAAQ;AAAA,uDACPC,CAAS;AAAA;AAAA;AAAA;AAAA,CAM3D,EACA,KAAK,EAAE,EAGK,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,ECvCD,MAAMC,EAAW,2BACXC,EAAU,qCAEHC,EAAqBC,GAAS,CACzC,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAY,EAAE,EAAE,KAAKC,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,UAAU,EAErC,OAAOA,EAAS,MACpB,CAAG,CACH,ECfMC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAW,SAAS,cAAc,YAAY,EAEpDD,EAAa,iBAAiB,SAAUE,CAAkB,EAE1D,SAASA,EAAmBC,EAAO,CACjCA,EAAM,eAAc,EAEpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,cAAc,MAAM,OAC9D,GAAIC,IAAgB,GAAI,CACtBC,EAAoBF,CAAK,EACzB,MACD,CAEDG,IACAC,IAEAZ,EAAmBS,CAAW,EAC3B,KAAKI,CAAkB,EACvB,MAAMC,CAAgB,EACtB,QAAQ,IAAM,CACbN,EAAM,OAAO,QACbO,GACN,CAAK,CACL,CAEA,SAASL,EAAoBF,EAAO,CAClCJ,EAAU,UAAY,GACtBI,EAAM,OAAO,QACbQ,EAAS,MAAM,CACb,MAAO,QACP,QAAS,oBACT,SAAU,WACV,QAAS,GACb,CAAG,CACH,CAEA,SAASL,GAAe,CACtBP,EAAU,UAAY,EACxB,CAEA,SAASQ,GAAa,CACpBN,EAAS,UAAU,OAAO,WAAW,CACvC,CAEA,SAASS,GAAa,CACpBT,EAAS,UAAU,IAAI,WAAW,CACpC,CAEA,SAASO,EAAmBI,EAAY,CAClCA,EAAW,YAAc,EAC3BD,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WACV,QAAS,IACT,MAAO,KACb,CAAK,EAEDZ,EAAU,UAAYhB,EAAiB6B,EAAW,IAAI,CAE1D,CAEA,SAASH,EAAiBI,EAAO,CAC/B,QAAQ,MAAMA,CAAK,EACnBF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,gDACT,SAAU,WACV,QAAS,GACb,CAAG,CACH"}